<% noticed_obj = notification.to_notification %>

<%= link_to noticed_obj.url, data: { turbo_frame: "_top" }, class: "text-decoration-none" do %>
  <% if notification.unread? %>
    <li class="list-group-item border-0 py-3" style="background-color: lightblue;">
  <% else %>
    <li class="list-group-item border-0 py-3">
  <% end %>
    <div class="row align-items-center">

      <%# Conditionally render the partial for the type of notification %>
      <% if noticed_obj.is_a?(CommentNotification) %>
        <%= render "notifications/comment_notification", noticed_obj: noticed_obj, context: :all %>
      <% elsif noticed_obj.is_a?(PostLikeNotification) %>
        <%= render "notifications/post_like_notification", noticed_obj: noticed_obj, context: :all %>
      <% elsif noticed_obj.is_a?(CommentLikeNotification) %>
        <%= render "notifications/comment_like_notification", noticed_obj: noticed_obj, context: :all %>
      <% elsif noticed_obj.is_a?(FriendRequestNotification) %>
        <%= render "notifications/friend_request_notification", noticed_obj: noticed_obj, context: :all %>
      <% end %>

      <div class="col-auto">
        <div class="text-muted small"><%= time_ago_in_words(notification.created_at) %> ago</div>
      </div>
    </div>
  </li>
<% end %>