<%= turbo_frame_tag user do %>

  <%# Friends check + Friend Remove Form %>
  <% if logged_in_user.is_friends_with?(user) %>
    <div class="d-flex justify-content-end align-items-center" style="gap: 20px;">
      <div class='btn btn-warning'>Friends</div>
      <%= render "friendships/delete_friend_form", friend: user, destroyer: logged_in_user %>
    </div>
    
  <%# Cancel Friend Request form %>
  <% elsif logged_in_user.has_sent_friend_request_to?(user) %>
    <%= render "friend_requests/cancel_and_decline_request_form", sender: logged_in_user, receiver: user, action_name: 'Cancel' %>

  <%# Accept Friend Request & Decline Friend Request form %>
  <% elsif logged_in_user.has_received_friend_request_from?(user) %>
    <div class="d-flex justify-content-between align-items-center" style="gap: 30px;">
      <%= render "friendships/accept_request_form", friend: user %>
      <%= render "friend_requests/cancel_and_decline_request_form", sender: user, receiver: logged_in_user, action_name: 'Decline' %>
    </div>

  <%# Send Friend Request form %>
  <% elsif !logged_in_user.has_sent_friend_request_to?(user) %>
    <%= render "friend_requests/send_request_form", sender: logged_in_user, receiver: user, friend_request: friend_request %>
  <% end %>
<% end %>